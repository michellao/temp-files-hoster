CREATE TABLE IF NOT EXISTS account (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    api_key VARCHAR(72) NOT NULL,
    is_admin BOOLEAN NOT NULL DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS url (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    original_filename VARCHAR(48),
    url_path VARCHAR(32),
    content_type VARCHAR(32) NOT NULL,
    size_mebi_bytes INTEGER NOT NULL,
    expires_at TIMESTAMP NOT NULL,
    token VARCHAR(32) NOT NULL,
    ip_address VARCHAR(40) NOT NULL,
    user_agent VARCHAR(128) DEFAULT NULL,
    account_id INTEGER,
    FOREIGN KEY (account_id) REFERENCES account (id)
);
